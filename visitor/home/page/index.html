<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Home</title>


    <!--    <script src="/origini-app/visitor/home/js/include-html.js"></script>-->
    <script src="/origini-app/visitor/home/js/include-url.js"></script>
    <script src="/origini-app/visitor/home/js/message.js"></script>

    <script src="/origini-app/visitor/home/js/formToObject.min.js"></script>
    <script src="/origini-app/visitor/home/js/rest.js"></script>
    <script src="/origini-app/visitor/home/js/rest-module.js"></script>
    <script src="/origini-app/visitor/home/js/rest-submit.js"></script>


    <script language="JavaScript">
        function addScriptToHead(src) {
            var head = document.getElementsByTagName('head')[0];
            var script = document.createElement('script');
            script.type = 'text/javascript';
            script.src = src;
            head.appendChild(script);
        }


        function addScriptToHeadDelayed(src) {
            var delay = 100;
            document.addEventListener("DOMContentLoaded", function () {
                setTimeout(function () {
                        addScriptToHead(src)
                    },
                    delay)
            });
        }


        var IncludeToId = function (id, error, success) {
            this.id = id;

            if (typeof success !== 'function') {
                success = function (data) {
                    console.log('success', "included");
                    // console.table(data);
                    // AddMessage(data.message.info);
                }
            }

            if (typeof error !== 'function') {
                error = function (data) {
                    console.log('error', "Page not found.");
                    // console.error(data);
                    // AddMessage(data.message.error);
                }
            }
            this.error = error;
            this.success = success;

            // var obj = this;
            this.html = function (file) {
                includeUrl(file, this.id, success, error);
                // return this;
            };

            this.script = function (file) {
                addScriptToHeadDelayed(file);
                // return this;
            };

            // return this;
        };

        var loadToHeader = new IncludeToId('home-plugins');
    </script>

</head>
<body>

<div class="home-messages">

</div>


<div id="home-plugins">
    ...
<!--    <div id="plugin-home-create">..loading</div>-->

    <!--    <div id="plugin-registration-create">..loading</div>-->
    <!--    <div id="plugin-registration-delete">..loading</div>-->
    <!--    <div id="plugin-newsletter-create">..loading</div>-->
    <!--    <div id="plugin-newsletter-delete">..loading</div>-->
    <!--    <div id="plugin-auth-create">..loading</div>-->
    <!--    <div id="plugin-auth-delete">..loading</div>-->
</div>


<script>

    // includeModulePluginInId("home", "messages", "plugin-home-create");

    // var newsletter_create = includeToId("plugin-newsletter-create");
    // loadToHeader.html("/origini-app/visitor/home/plugin/messages.html");
    loadToHeader.html("/origini-app/visitor/newsletter/plugin/create.html");
    loadToHeader.html("/origini-app/visitor/newsletter/plugin/delete.html");
    loadToHeader.script("/origini-app/visitor/newsletter/js/foot.js");


</script>


<script>

    // addScriptToHeadDelayed("/origini-app/visitor/newsletter/js/foot.js");
    // addScriptToHeadDelayed("/origini-app/visitor/auth/js/foot.js");
    // addScriptToHeadDelayed("/origini-app/visitor/registration/js/foot.js");

</script>


</body>
</html>